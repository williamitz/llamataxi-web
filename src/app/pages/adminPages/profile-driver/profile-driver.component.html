<div class="row">
    <div class="col-xl-4 order-xl-2">
        <div class="card card-profile">
            <img src="../assets/img/theme/img-1-1000x600.jpg" alt="Image placeholder" class="card-img-top">
            <div class="row justify-content-center">
                <div class="col-lg-3 order-lg-2">
                    <div class="card-profile-image">
                        <img [src]="pathImg + dataProfile.img + token" class="rounded-circle">
                    </div>
                </div>
            </div>
            <div class="card-header text-center border-0 pt-8 pt-md-4 pb-0 pb-md-4">
                <div class="d-flex justify-content-between">
                    <button class="btn btn-sm  mr-4 " (click)="onShowModalVerifDriver()" [ngClass]="{'btn-info': dataProfile.verified,
                                                              'btn-danger': !dataProfile.verified }">
                        {{ dataProfile.verified ? 'Verificado' : 'Pendiente' }}
                    </button>
                    <button class="btn btn-sm btn-default float-right" data-toggle="modal" data-target="#modalMessage">
                      Mensaje
                    </button>
                </div>
            </div>
            <div class="card-body pt-0">
                <div class="row">
                    <div class="col">
                        <div class="card-profile-stats d-flex justify-content-center">
                            <div>
                                <span class="heading">22</span>
                                <span class="description">Friends</span>
                            </div>
                            <div>
                                <span class="heading">10</span>
                                <span class="description">Photos</span>
                            </div>
                            <div>
                                <span class="heading">89</span>
                                <span class="description">Comments</span>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="text-center">
                    <h5 class="h3">
                        {{ dataProfile.nameComplete }}
                        <span class="font-weight-light">, {{ dataProfile.yearsOld }} </span>
                    </h5>
                    <div class="h5 font-weight-300">
                        <i class="fa fa-user"></i>&nbsp; {{ dataProfile.userName }}
                    </div>
                    <div class="h5 mt-4">
                        <i class="fa fa-envelope"></i> &nbsp; {{ dataProfile.email }}
                    </div>
                    <div>
                        <i class="fa fa-phone"></i> &nbsp; {{ dataProfile.prefixPhone }} {{ dataProfile.phone }}
                    </div>
                    <hr>
                    <div>
                        <button class="btn btn-{{ cssBtnDisabled }}" data-toggle="modal" data-target="#modalConfirmDriver" (click)="onDisabledUser()">
                      {{ txtBtnDisabled }}
                        <i class="fas {{ iconBtnDisabled }}"></i>
                      </button>
                    </div>
                </div>
            </div>
        </div>

        <div class="card">
            <div class="card-header">
                <h4>Mensajer√≠a</h4>
            </div>
            <div class="card-body">
                <ul class="list-group list-group-flush" data-toggle="checklist">

                    <li *ngFor="let msg of dataMsg" class="checklist-entry list-group-item flex-column align-items-start py-4 px-4" style="cursor: pointer;" (click)="onShowViewMsg( msg.pkMessage )">

                        <div class="checklist-item checklist-item-checked">
                            <div class="checklist-info">
                                <div class="row">
                                    <div class="col-3">
                                        <img class="avatar avatar-64 img-circle" [src]="pathImg + msg.imgEmisor + token" />
                                    </div>
                                    <div class="col-9">
                                        <h5 class="checklist-title mb-0">{{ msg.subject }}</h5>
                                    </div>
                                </div>

                                <small>{{ msg.dateRegister | moment }}</small>
                            </div>
                            <div>
                                <!-- <div class="custom-control custom-checkbox custom-checkbox-success">
                                    <input class="custom-control-input" id="chk-msg-{{ msg.pkMessage }}" type="checkbox" checked="">
                                    <label class="custom-control-label" for="chk-msg-{{ msg.pkMessage }}"></label>
                                </div> -->
                                <span *ngIf="msg.totalResponseNoReaded > 0" class="badge badge-pill badge-success">+{{ msg.totalResponseNoReaded }}</span>
                            </div>
                        </div>
                    </li>

                </ul>
            </div>
        </div>
    </div>
    <div class="col-xl-8 order-xl-1">
        <div class="card">
            <div class="card-header">
                <div class="row align-items-center">
                    <div class="col-8">
                        <h3 class="mb-0">Perfil del conductor </h3>
                    </div>
                    <div class="col-4 text-right">
                        <button class="btn btn-sm btn-primary" data-toggle="modal" data-target="#modalEditProfile" (click)="onEditProfile()">
                          Editar
                        </button>
                    </div>
                </div>
            </div>
            <div class="card-body">
                <form>
                    <h6 class="heading-small text-muted mb-4">Datos personales</h6>
                    <div class="pl-lg-4">
                        <div class="row">
                            <div class="col-lg-4">
                                <div class="form-group">
                                    <label class="form-control-label">Documento</label>
                                    <div class="form-control">
                                        {{ dataProfile.prefix }}
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-4">
                                <div class="form-group">
                                    <label class="form-control-label">N&uacute;mero</label>
                                    <div class="form-control">
                                        {{ dataProfile.document }}
                                    </div>
                                </div>
                            </div>

                            <div class="col-lg-4">
                                <div class="form-group">
                                    <label class="form-control-label">
                                      Nacionalidad
                                    </label>
                                    <div class="form-control">
                                        {{ dataProfile.nameCountry }}
                                    </div>
                                </div>

                            </div>

                        </div>
                        <div class="row">

                            <div class="col-lg-4">
                                <div class="form-group">
                                    <label class="form-control-label">Fecha nacimiento</label>
                                    <div class="form-control">
                                        {{ dataProfile.brithDate | date }}
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-2">
                                <div class="form-group">
                                    <label class="form-control-label">Sexo</label>
                                    <div class="form-control">
                                        {{ dataProfile.sex | sex }}
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-3">
                                <div class="form-group">
                                    <label class="form-control-label">
                                      Taxista certificado
                                    </label>
                                    <div class="form-control">
                                        {{dataProfile.isEmployee | yesno}}
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-3">
                                <div class="form-group">
                                    <label class="form-control-label">Verificado reniec</label>
                                    <div class="form-control">
                                        {{ dataProfile.verifyReniec | yesno }}
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <hr class="my-4" />
                    <!-- Address -->
                    <h6 class="heading-small text-muted mb-4">Documentos</h6>
                    <div class="pl-lg-4">
                        <div class="row">
                            <div class="col-md-6">
                                <!-- style="width: 18rem; " :entity/:idEntity/:fileName -->
                                <div class="card">
                                    <img class="card-img-top rounded" [src]="pathDriver + 'driver/' + dataProfile.pkDriver + '/' + dataProfile.imgLicense + token" alt="Card image cap" style="height: 170px;">
                                    <div class="card-body">
                                        <div class="row">
                                            <div class="col-7">
                                                <h5 class="card-title">Licencia de conducir</h5>
                                                <p class="card-text">
                                                    Exp. - {{ dataProfile.dateLicenseExpiration | date }}
                                                </p>
                                            </div>
                                            <div class="col-5">
                                                <a [href]="pathDriver + 'driver/' + dataProfile.pkDriver + '/' + dataProfile.imgLicense + token" target="blank" class="btn btn-sm btn-info" title="Descargar">
                                                    <i class="fa fa-download"></i>
                                                </a>

                                                <label class="btn btn-sm btn-primary" title="Reemplazar" for="fileLicense">
                                                  <i class="fa fa-upload"></i>
                                                </label>
                                            </div>
                                        </div>

                                        <input type="file" id="fileLicense" style="display: none;" (change)="onChangeFile( 'DRIVER', 'LICENSE', $event.target.files )">
                                    </div>
                                </div>
                            </div>

                            <div *ngIf="dataProfile.isEmployee" class="col-md-6">
                                <!-- style="width: 18rem; " :entity/:idEntity/:fileName -->
                                <div class="card">
                                    <img class="card-img-top rounded" [src]="pathDriver + 'driver/' + dataProfile.pkDriver + '/' + dataProfile.imgPhotoCheck + token" alt="Card image cap" style="height: 170px;">
                                    <div class="card-body">
                                        <div class="row">
                                            <div class="col-7">
                                                <h5 class="card-title">Foto check</h5>
                                            </div>
                                            <div class="col-5">
                                                <a [href]="pathDriver + 'driver/' + dataProfile.pkDriver + '/' + dataProfile.imgPhotoCheck + token" target="blank" class="btn btn-sm btn-info" title="Descargar">
                                                    <i class="fa fa-download"></i>
                                                </a>
                                                <label class="btn btn-sm btn-primary" title="Reemplazar" for="filePhoto">
                                                <i class="fa fa-upload"></i>
                                              </label>
                                            </div>
                                        </div>
                                        <input type="file" id="filePhoto" style="display: none;" (change)="onChangeFile( 'DRIVER', 'PHOTO_CHECK', $event.target.files )">

                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="row" *ngIf="!dataProfile.isEmployee">
                            <div class="col-lg-6">
                                <div class="text-center" *ngIf="criminalIsPdf">
                                    <canvas class=" card col-lg-12" #canvasCriminal>

                                    </canvas>
                                    <div class="row">
                                        <div class="col-8">
                                            <h4>Antecedentes penales</h4>
                                        </div>
                                        <div class="col-4">
                                            <a [href]="pathDriver + 'driver/' + dataProfile.pkDriver + '/' + dataProfile.imgCriminalRecord + token" target="blank" class="btn btn-sm btn-info" title="Descargar">
                                                <i class="fa fa-download"></i>
                                            </a>
                                            <label class="btn btn-sm btn-primary" title="Reemplazar" for="fileCrimial">
                                              <i class="fa fa-upload"></i>
                                            </label>
                                        </div>
                                        <input type="file" id="fileCrimial" style="display: none;" (change)="onChangeFile( 'DRIVER', 'CRIMINAL_RECORD', $event.target.files, true )">
                                    </div>
                                </div>
                                <div *ngIf="!criminalIsPdf">

                                    <div class="card" style="width: 18rem;">
                                        <img class="card-img-top rounded" [src]="pathDriver + 'driver/' + dataProfile.pkDriver + '/' + dataProfile.imgCriminalRecord + token" alt="Card image cap" style="height: 440px;">
                                        <div class="card-body">
                                            <div class="row">
                                                <div class="col-7">
                                                    <h5 class="card-title">Antecedentes penales</h5>
                                                </div>
                                                <div class="col-5">
                                                    <a [href]="pathDriver + 'driver/' + dataProfile.pkDriver + '/' + dataProfile.imgCriminalRecord + token" target="blank" class="btn btn-sm btn-info" title="Descargar">
                                                        <i class="fa fa-download"></i>
                                                    </a>
                                                    <label class="btn btn-sm btn-primary" title="Reemplazar" for="fileCrimialTwo">
                                                    <i class="fa fa-upload"></i>
                                                  </label>
                                                </div>
                                                <input type="file" id="fileCrimialTwo" style="display: none;" (change)="onChangeFile( 'DRIVER', 'CRIMINAL_RECORD', $event.target.files, true )">
                                            </div>

                                        </div>
                                    </div>
                                </div>

                            </div>
                            <div class="col-lg-6">
                                <div class="text-center" *ngIf="policialIsPdf">
                                    <canvas class=" card col-lg-12" #canvasPolicial>

                                    </canvas>
                                    <div class="row">
                                        <div class="col-8">
                                            <h4>Antecedentes policiales</h4>
                                        </div>
                                        <div class="col-4">
                                            <a [href]="pathDriver + 'driver/' + dataProfile.pkDriver + '/' + dataProfile.imgPolicialRecord + token" target="blank" class="btn btn-sm btn-info" title="Descargar">
                                                <i class="fa fa-download"></i>
                                            </a>
                                            <label class="btn btn-sm btn-primary" title="Reemplazar" for="filePolicial">
                                              <i class="fa fa-upload"></i>
                                            </label>
                                        </div>
                                        <input type="file" id="filePolicial" style="display: none;" (change)="onChangeFile( 'DRIVER', 'POLICIAL_RECORD', $event.target.files, true )">
                                    </div>
                                </div>
                                <div *ngIf="!policialIsPdf">

                                    <div class="card" style="width: 18rem;">
                                        <img class="card-img-top rounded" [src]="pathDriver + 'driver/' + dataProfile.pkDriver + '/' + dataProfile.imgPolicialRecord + token" alt="Card image cap" style="height: 440px;">
                                        <div class="card-body">
                                            <div class="row">
                                                <div class="col-7">
                                                    <h5 class="card-title">Antecedentes policiales</h5>
                                                </div>
                                                <div class="col-5">
                                                    <a [href]="pathDriver + 'driver/' + dataProfile.pkDriver + '/' + dataProfile.imgPolicialRecord + token" target="blank" class="btn btn-sm btn-info" title="Descargar">
                                                        <i class="fa fa-download"></i>
                                                    </a>
                                                    <label class="btn btn-sm btn-primary" title="Reemplazar" for="filePolicialTwo">
                                                      <i class="fa fa-upload"></i>
                                                    </label>
                                                </div>
                                                <input type="file" id="filePolicialTwo" style="display: none;" (change)="onChangeFile( 'DRIVER', 'POLICIAL_RECORD', $event.target.files, true )">
                                            </div>

                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- <hr class="my-4" /> -->
                    <!-- Description -->
                    <!-- <h6 class="heading-small text-muted mb-4">About me</h6>
                    <div class="pl-lg-4">
                        <div class="form-group">
                            <label class="form-control-label">About Me</label>
                            <textarea rows="4" class="form-control" placeholder="A few words about you ...">A beautiful Dashboard for Bootstrap 4. It is Free and Open Source.</textarea>
                        </div>
                    </div> -->
                </form>
            </div>
        </div>
    </div>
</div>

<div class="row">
    <div class="col-6">
        <div class="containerTime">

            <div class="card">
                <div class="card-header bg-transparent">
                    <h3 class="mb-0">Timeline</h3>
                </div>
                <div class="card-body">
                    <div class="timeline timeline-one-side" data-timeline-content="axis" data-timeline-axis-style="dashed">
                        <div class="timeline-block">
                            <span class="timeline-step badge-success">
                          <i class="ni ni-bell-55"></i>
                        </span>
                            <div class="timeline-content">
                                <small class="text-muted font-weight-bold">10:30 AM</small>
                                <h5 class=" mt-3 mb-0">New message</h5>
                                <p class=" text-sm mt-1 mb-0">Nullam id dolor id nibh ultricies vehicula ut id elit. Cum sociis natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus.</p>
                                <div class="mt-3">
                                    <span class="badge badge-pill badge-success">design</span>
                                    <span class="badge badge-pill badge-success">system</span>
                                    <span class="badge badge-pill badge-success">creative</span>
                                </div>
                            </div>
                        </div>
                        <div class="timeline-block">
                            <span class="timeline-step badge-danger">
                          <i class="ni ni-html5"></i>
                        </span>
                            <div class="timeline-content">
                                <small class="text-muted font-weight-bold">10:30 AM</small>
                                <h5 class=" mt-3 mb-0">Product issue</h5>
                                <p class=" text-sm mt-1 mb-0">Nullam id dolor id nibh ultricies vehicula ut id elit. Cum sociis natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus.</p>
                                <div class="mt-3">
                                    <span class="badge badge-pill badge-danger">design</span>
                                    <span class="badge badge-pill badge-danger">system</span>
                                    <span class="badge badge-pill badge-danger">creative</span>
                                </div>
                            </div>
                        </div>
                        <div class="timeline-block">
                            <span class="timeline-step badge-info">
                          <i class="ni ni-like-2"></i>
                        </span>
                            <div class="timeline-content">
                                <small class="text-muted font-weight-bold">10:30 AM</small>
                                <h5 class=" mt-3 mb-0">New likes</h5>
                                <p class=" text-sm mt-1 mb-0">Nullam id dolor id nibh ultricies vehicula ut id elit. Cum sociis natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus.</p>
                                <div class="mt-3">
                                    <span class="badge badge-pill badge-info">design</span>
                                    <span class="badge badge-pill badge-info">system</span>
                                    <span class="badge badge-pill badge-info">creative</span>
                                </div>
                            </div>
                        </div>
                        <div class="timeline-block">
                            <span class="timeline-step badge-success">
                          <i class="ni ni-bell-55"></i>
                        </span>
                            <div class="timeline-content">
                                <small class="text-muted font-weight-bold">10:30 AM</small>
                                <h5 class=" mt-3 mb-0">New message</h5>
                                <p class=" text-sm mt-1 mb-0">Nullam id dolor id nibh ultricies vehicula ut id elit. Cum sociis natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus.</p>
                                <div class="mt-3">
                                    <span class="badge badge-pill badge-success">design</span>
                                    <span class="badge badge-pill badge-success">system</span>
                                    <span class="badge badge-pill badge-success">creative</span>
                                </div>
                            </div>
                        </div>
                        <div class="timeline-block">
                            <span class="timeline-step badge-danger">
                          <i class="ni ni-html5"></i>
                        </span>
                            <div class="timeline-content">
                                <small class="text-muted font-weight-bold">10:30 AM</small>
                                <h5 class=" mt-3 mb-0">Product issue</h5>
                                <p class=" text-sm mt-1 mb-0">Nullam id dolor id nibh ultricies vehicula ut id elit. Cum sociis natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus.</p>
                                <div class="mt-3">
                                    <span class="badge badge-pill badge-danger">design</span>
                                    <span class="badge badge-pill badge-danger">system</span>
                                    <span class="badge badge-pill badge-danger">creative</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="col-6">
        <h3>Vehiculos</h3>

        <!-- Button trigger modal -->
        <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#modalAddVehicle" id="btnShowModalVehicleAdd">
          Nuevo
        </button>
        <swiper [config]="configSlider" [(index)]="index">
            <div *ngFor="let vehicle of vehicles">
                <div class="table">

                    <div class="row">
                        <div class="col-12">

                            <div>
                                <span class="badge badge-pill " [ngClass]="{'badge-success': vehicle.verified,'badge-danger': !vehicle.verified }" (click)="onShowVehicleVerif( vehicle )" [ngStyle]="{'cursor': !vehicle.verified ? 'pointer' : 'default'}">
                                {{ vehicle.verified ? 'Verificado' : 'Pendiente' }}
                              </span>
                            </div>
                            <h4> {{vehicle.numberPlate}} </h4>
                            <p>
                                {{ vehicle.year }}
                                <br> {{ vehicle.color | color }}
                            </p>
                        </div>
                    </div>

                    <div class="row">
                        <span>
                          <a [href]="pathDriver + 'vehicle/' + vehicle.pkVehicle + '/' + vehicle.imgPropertyCard + token + '&idDriver=' + dataProfile.pkDriver" target="blank" class="btn btn-sm btn-info btnDownLicense" title="Descargar">
                              <i class="fa fa-download"></i>
                          </a>
                          <label class="btn btn-sm btn-primary btnDownLicense" title="Reemplazar" for="fileLicense-{{ vehicle.pkVehicle }}">
                            <i class="fa fa-upload"></i>
                          </label>
                      </span>
                        <div class="col-12">
                            <img [src]="pathDriver + 'vehicle/' + vehicle.pkVehicle + '/' + vehicle.imgPropertyCard  + token + '&idDriver=' + dataProfile.pkDriver " alt="" style="width: 90%; height: 160px; " class="borderImg">

                            <input type="file" id="fileLicense-{{ vehicle.pkVehicle }}" style="display: none;" (change)="onChangeFile( 'VEHICLE', 'PROPERTY_CARD', $event.target.files, false, vehicle.pkVehicle )">
                            <p>Tarjeta de propiedad</p>
                        </div>

                    </div>

                    <div class="row">
                        <span>
                            <a [href]="pathDriver + 'vehicle/' + vehicle.pkVehicle + '/' + vehicle.imgSoat + token + '&idDriver=' + dataProfile.pkDriver" target="blank" class="btn btn-sm btn-info btnDownLicense" title="Descargar">
                                <i class="fa fa-download"></i>
                            </a>
                            <label class="btn btn-sm btn-primary btnDownLicense" title="Reemplazar" for="fileSoat-{{ vehicle.pkVehicle }}">
                              <i class="fa fa-upload"></i>
                            </label>
                        </span>
                        <div class="col-12">
                            <img [src]="pathDriver + 'vehicle/' + vehicle.pkVehicle + '/' + vehicle.imgSoat  + token + '&idDriver=' + dataProfile.pkDriver " alt="" style="width: 90%; height: 160px;" class="borderImg">
                            <input type="file" id="fileSoat-{{ vehicle.pkVehicle }}" style="display: none;" (change)="onChangeFile( 'VEHICLE', 'SOAT', $event.target.files, false, vehicle.pkVehicle )">
                            <p>
                                Soat <br> Exp. {{ vehicle.dateSoatExpiration | date }}
                            </p>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-6">
                            <img [src]="pathDriver + 'vehicle/' + vehicle.pkVehicle + '/' + vehicle.imgTaxiFrontal  + token + '&idDriver=' + dataProfile.pkDriver " alt="" style="width: 50%; height: 100%;" class="borderImg">
                        </div>
                        <div class="col-6">
                            <img [src]="pathDriver + 'vehicle/' + vehicle.pkVehicle + '/' + vehicle.imgTaxiBack  + token + '&idDriver=' + dataProfile.pkDriver " alt="" style="width: 50%; height: 100%;" class="borderImg">
                        </div>
                    </div>
                    <br>
                    <div class="row">
                        <div class="col-6"></div>
                        <div class="col-6">
                            <button class="btn btn-outline-primary btn-icon" type="button" (click)="onEditVehicle( vehicle.pkVehicle )">
                            <i class="fa fa-edit"></i>
                          </button>

                            <button class="btn btn-outline-danger btn-icon" type="button" data-toggle="modal" data-target="#modalConfirmDeleteVehicle" (click)="onCofirmDeleteVehicle( vehicle.pkVehicle )">
                              <i class="fa fa-trash"></i>
                            </button>
                        </div>
                    </div>
                    <br>
                </div>
            </div>
        </swiper>

    </div>
</div>

<!-- Button trigger modal -->
<button type="button" style="display: none;" class="btn btn-primary" data-toggle="modal" data-target="#modalVehicle" id="btnShowVehicleVerif">
  Launch demo modal
</button>

<!-- Modal verify vehicle -->
<div class="modal fade" id="modalVehicle" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLabel">Verificar veh√≠culo</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close" id="btnCloseModalVehicle" (click)="onResetVehicle()">
                  <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <form #frmVehicleVerif="ngForm">

                    <div class="row">
                        <div class="col-4">
                            <img [src]="pathDriver + 'vehicle/' + bodyVehicleVerif.pkVehicle + '/' + bodyVehicleVerif.imgFrontal  + token + '&idDriver=' + pkDriver " alt="" style="height: 188px; width: 140px;" class="borderImg">
                        </div>
                        <div class="col-8">
                            <div class="row">
                                <div class="col-12">
                                    <h4>
                                        {{ bodyVehicleVerif.numberPlate }} - {{ bodyVehicleVerif.color }}
                                        <p>
                                            {{ bodyVehicleVerif.year }}
                                        </p>
                                    </h4>
                                </div>
                                <div class="col-12">
                                    <div class="form-group">
                                        <label for="cbxCategory">Categor√≠a</label>
                                        <select class="form-control" id="cbxCategory" name="category" #category="ngModel" [(ngModel)]="bodyVehicleVerif.fkCategory" (change)="onGetBrand( bodyVehicleVerif.fkCategory )" required [ngClass]="{
                                          'is-invalid': category.errors?.required && category.touched,
                                          'is-valid': !category.errors?.required && category.touched
                                        }">
                                          <option value="null" disabled selected="true">-- Seleccione --</option>
                                          <option [value]="category.pkCategory" *ngFor="let category of dataCategory">
                                            {{ category.nameCategory }}
                                          </option>
                                        </select>
                                        <span *ngIf="category.errors?.required && category.touched">
                                          <small class="text-danger">*Requerido</small>
                                        </span>
                                    </div>
                                </div>
                                <div class="col-12">
                                    <div class="form-group">

                                        <label for="cbxBrand">Marca</label>
                                        <select class="form-control" id="cbxBrand" (change)="onGetModel( bodyVehicleVerif.fkCategory, bodyVehicleVerif.fkBrand )" name="brand" #brand="ngModel" [(ngModel)]="bodyVehicleVerif.fkBrand" required [ngClass]="{
                                          'is-invalid': brand.errors?.required && brand.touched,
                                          'is-valid': !brand.errors?.required && brand.touched
                                        }">
                                            <option value="null"  disabled selected>-- Seleccione --</option>
                                            <option [value]="brand.pkBrand" *ngFor="let brand of dataBrand">
                                              {{ brand.nameBrand }}
                                            </option>
                                        </select>
                                        <span *ngIf="brand.errors?.required && brand.touched">
                                          <small class="text-danger">*Requerido</small>
                                        </span>
                                    </div>
                                </div>

                                <div class="col-12">
                                    <div class="form-group">

                                        <label for="cbxModel">Modelo</label>
                                        <select class="form-control" id="cbxModel" name="model" #model="ngModel" [(ngModel)]="bodyVehicleVerif.fkModel" required [ngClass]="{
                                        'is-invalid': model.errors?.required && model.touched,
                                        'is-valid': !model.errors?.required && model.touched
                                      }">
                                        <option value="null"  disabled selected>-- Seleccione --</option>
                                        <option [value]="model.pkModel" *ngFor="let model of dataModel">
                                          {{ model.nameModel }}
                                        </option>
                                      </select>
                                        <span *ngIf="model.errors?.required && model.touched">
                                        <small class="text-danger">*Requerido</small>
                                      </span>
                                    </div>
                                </div>

                                <div class="col-12">
                                    <div class="form-group">
                                        <label for="">Observaci&oacute;n</label>
                                        <textarea name="obs" #obsVerif="ngModel" [(ngModel)]="bodyVehicleVerif.observation" rows="3" class="form-control" required [ngClass]="{
                                        'is-invalid': obsVerif.errors?.required && obsVerif.touched,
                                        'is-valid': !obsVerif.errors?.required && obsVerif.touched
                                      }">
                                      </textarea>
                                        <span *ngIf="obsVerif.errors?.required && obsVerif.touched">
                                        <small class="text-danger">*Requerido</small>
                                      </span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </form>

            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-success" data-dismiss="modal" [disabled]="frmVehicleVerif.invalid || loadingVehicle" (click)="onSubmitVerifVehicle(frmVehicleVerif)">
                  <span *ngIf="loadingVehicle">
                    <i class="fa fa-spinner fa-pulse"></i>
                  </span>
                  Habilitar
                </button>
            </div>
        </div>
    </div>
</div>

<!-- Modal add message -->
<div class="modal fade" id="modalMessage" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLabel">Nuevo mensaje</h5>
                <button type="button" id="btnCloseModalMg" class="close" data-dismiss="modal" aria-label="Close">
                  <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <form #frmMessage="ngForm">
                    <div class="form-group">
                        <label for="txtSubject">Asunto</label>
                        <input id="txtSubject" type="text" class="form-control " name="subject" [(ngModel)]="bodyMessage.subject" #subject="ngModel" required maxlength="50" [ngClass]="{
                          'is-invalid': (subject.errors?.required || subject.errors?.maxlength ) && subject.touched,
                          'is-valid': !subject.errors?.required && !subject.errors?.maxlength && subject.touched }">
                        <span *ngIf="subject.errors?.required && subject.touched">
                          <small class="text-danger">*Requerido</small>
                        </span>
                        <span *ngIf="subject.errors?.maxlength && subject.touched">
                          <small class="text-danger">*M&aacute;ximo 50 caracteres</small>
                        </span>
                    </div>

                    <div class="form-group">
                        <label for="txtMessage">
                          Asunto
                        </label>
                        <span class="msgLength">
                              <small>{{ bodyMessage.message.length }}</small>
                            </span>
                        <textarea id="txtMessage" class="form-control" rows="10" name="message" [(ngModel)]="bodyMessage.message" #message="ngModel" required maxlength="255" [ngClass]="{
                          'is-invalid': (message.errors?.required || message.errors?.maxlength ) && message.touched,
                          'is-valid': !message.errors?.required && !message.errors?.maxlength && message.touched }">
                      </textarea>

                        <span *ngIf="message.errors?.required && message.touched">
                          <small class="text-danger">*Requerido</small>
                        </span>
                        <span *ngIf="message.errors?.maxlength && message.touched">
                          <small class="text-danger">*M&aacute;ximo 255 caracteres</small>
                        </span>


                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-primary" [disabled]="frmMessage.invalid || loading" (click)="onSendMessage(frmMessage)">

                  <i class="ni ni-send"></i>
                  Enviar
                  <span *ngIf="loading">
                    <i class="fa fa-spinner fa-pulse"></i>
                  </span>
                </button>
            </div>
        </div>
    </div>
</div>


<button type="button" style="display: none;" class="btn btn-primary" data-toggle="modal" data-target="#modalViewMessage" id="btnShowViewMsgModal">
  Launch demo modal
</button>
<div class="modal fade" id="modalViewMessage" tabindex="-1" role="dialog" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">{{ dataViewMsg.subject }}</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                  <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">

                <div class="row">
                    <div class="col-2">

                        <img class="avatar avatar-64 img-circle" [src]="pathImg + dataViewMsg.imgEmisor + token" />

                    </div>
                    <div class="col-10">
                        <div class="row">
                            <div class="col-7">
                                <span>
                                    <h5>
                                      De: {{ dataViewMsg.nameEmisor }}
                                  </h5>
                                  </span>

                                <small>
                                        {{ dataViewMsg.userEmisor }}
                                        <br>
                                        {{ dataViewMsg.dateRegister | moment }}
                                  </small>
                            </div>
                            <div class="col-5 text-center">
                                <button class="btn btn-sm btn-primary " (click)="newResponse = true">
                                    Responder
                                </button>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="row">
                    <div class="col-12 ">
                        <div class="form-group subject-border">
                            {{ dataViewMsg.message }}
                        </div>
                    </div>
                </div>

                <div class="row">
                    <div class="col-12">
                        <!--Accordion wrapper-->
                        <div class="accordion md-accordion" id="accordionEx" role="tablist" aria-multiselectable="true">

                            <!-- Accordion card -->
                            <div class="card-pd" *ngFor="let msgRes of dataMsgRes">

                                <!-- Card header -->
                                <div class="" role="tab" id="headingOne1">
                                    <a data-toggle="collapse" data-parent="#accordionEx" href="#collapseRes{{ msgRes.pkMessage }}" aria-expanded="true">
                                        <div class="row">
                                            <div class="col-9">
                                                <h5 class="mb-0">
                                                    {{ msgRes.nameEmisor }} &nbsp;-&nbsp; {{ msgRes.dateRegister | moment: '': true }}
                                                </h5>
                                            </div>
                                            <div class="col-3 text-right">
                                                <i class="fas fa-angle-down rotate-icon"></i>
                                            </div>
                                        </div>
                                    </a>
                                </div>
                                <!-- Card body -->
                                <div id="collapseRes{{ msgRes.pkMessage }}" class="collapse show" role="tabpanel" aria-labelledby="headingOne1" data-parent="#accordionEx">
                                    <div class="">
                                        <p>
                                            {{ msgRes.message }}
                                        </p>
                                    </div>
                                </div>

                            </div>


                        </div>
                        <!-- Accordion wrapper -->
                    </div>
                </div>

                <div *ngIf="newResponse" class="row">
                    <div class="col-10">
                        <form #frmMsgRes="ngForm">

                            <textarea class="form-control" name="messageRes" [(ngModel)]="bodyResponse.message" #msgResponse="ngModel" rows="3" placeholder="Escriba una respuesta" required [ngClass]="{
                          'is-invalid': msgResponse.errors?.required && msgResponse.touched,
                          'is-valid': !msgResponse.errors?.required && msgResponse.touched
                        }">
                        </textarea>
                            <span *ngIf="msgResponse.errors?.required && msgResponse.touched">
                              <small class="text-danger">*Requerido</small>
                            </span>
                        </form>
                    </div>
                    <div class="col-2 text-center" style="padding-top: 10px;">
                        <button class="btn btn-sm btn-danger" (click)="newResponse = false">
                          Cerrar
                        </button>
                        <button class="btn btn-sm btn-success" style="margin-top: 10px;" [disabled]="frmMsgRes.invalid || loadingResponse" (click)="onSubmitMsgRes(frmMsgRes)">
                          Enviar
                        </button>
                    </div>
                </div>

            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Cerrar</button>
            </div>
        </div>
    </div>
</div>

<button type="button" class="btn btn-block btn-warning mb-3" data-toggle="modal" data-target="#modalConfirmAccount" id="btnShowVerifDriver" style="display: none;">Notification</button>

<div class="modal fade" id="modalConfirmAccount" tabindex="-1" role="dialog" aria-labelledby="modal-notification" aria-hidden="true">
    <div class="modal-dialog modal-danger modal-dialog-centered modal-" role="document">
        <div class="modal-content bg-gradient-danger">

            <div class="modal-header">
                <h6 class="modal-title" id="modal-title-notification">Confirmaci&oacute;n</h6>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close" id="btnCloseVerifDriver">
                    <span aria-hidden="true">√ó</span>
                </button>
            </div>

            <div class="modal-body">
                <form #frmverifDriver="ngForm">
                    <div class="py-3 text-center">
                        <i class="ni ni-bell-55 ni-5x"></i>
                        <h4 class="heading mt-4">¬øEst√° seguro de habilitar a este conductor?</h4>
                    </div>
                    <div class="form-group">
                        <label for="">Observaci&oacute;n</label>
                        <textarea name="driverobs" #obsdriverv="ngModel" [(ngModel)]="bodyDriverVerif.observation" required [ngClass]="{'is-invalid': obsdriverv.errors?.required && obsdriverv.touched,
                    'is-valid': !obsdriverv.errors?.required && obsdriverv.touched}" rows="2" class="form-control">
                        </textarea>
                        <span *ngIf="obsdriverv.errors?.required && obsdriverv.touched">
                      <small class="text-info">*Requerido</small>
                    </span>
                    </div>
                </form>
            </div>

            <div class="modal-footer">
                <button type="button" class="btn btn-white" [disabled]="frmverifDriver.invalid || loadingDriver" (click)="onSubmitVerifDriver(frmverifDriver)">
                  Habilitar
                  <span *ngIf="loadingDriver">
                    <i class="fa fa-spinner fa-pulse"></i>
                  </span>
                </button>
                <button type="button" class="btn btn-link text-white ml-auto" data-dismiss="modal">
                  Cerrar
                </button>
            </div>

        </div>
    </div>
</div>

<!-- Modal add/update vehicle -->
<div class="modal fade" id="modalAddVehicle" data-backdrop="static" data-keyboard="false" tabindex="-1" role="dialog" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title"> {{ titleModalVehicle }} </h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close" (click)="onResetVehicleAdd()">
                  <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <form #frmVehicleAdd="ngForm">
                    <div class="row">
                        <div class="col-5">
                            <div class="form-group">
                                <label for="">Placa Nro. <span class="text-danger">*</span> </label>
                                <input type="text" style="text-transform: uppercase;" class="form-control" name="numberPlate" #plate="ngModel" [(ngModel)]="bodyVehicle.numberPlate" [ngClass]="{
                                    'is-invalid': (plate.errors?.required || plate.errors?.pattern) && plate.touched,
                                    'is-valid': !plate.errors?.required && !plate.errors?.pattern && plate.touched
                                  }" pattern="^([a-zA-Z0-9]{2,3}-+\d{3,4})$" required>
                                <span *ngIf="plate.errors?.required && plate.touched">
                                  <small class="text-danger">*Requerido</small>
                                </span>
                                <span *ngIf="plate.errors?.pattern && plate.touched">
                                  <small class="text-danger">*Formato inv&aacute;lido ejm: ABC-000</small>
                                </span>
                            </div>
                        </div>
                        <div class="col-7">
                            <div class="row">
                                <div class="col-6">
                                    <div class="form-group">
                                        <label for="">A&ntilde;o <span class="text-danger">*</span> </label>

                                        <select class="form-control" name="yearV" #yearV="ngModel" [(ngModel)]="bodyVehicle.year" [ngClass]="{
                                          'is-invalid': yearV.errors?.required && yearV.touched,
                                          'is-valid': !yearV.errors?.required && yearV.touched
                                        }" required>
                                          <option value="null" disabled selected> --Selecc--</option>
                                          <option [value]="year" *ngFor="let year of dataYears">
                                            {{ year }}
                                          </option>
                                        </select>

                                        <span *ngIf="yearV.errors?.required && yearV.touched">
                                          <small class="text-danger">*Requerido</small>
                                        </span>
                                    </div>
                                </div>
                                <div class="col-6">
                                    <div class="form-group">
                                        <label for="">Color <span class="text-danger">*</span> </label>

                                        <select class="form-control" name="colorV" #colorV="ngModel" [(ngModel)]="bodyVehicle.color" [ngClass]="{
                                          'is-invalid': colorV.errors?.required && colorV.touched,
                                          'is-valid': !colorV.errors?.required && colorV.touched
                                        }" required>
                                          <option value="" disabled selected> --Selecc--</option>
                                          <option [value]="color.code" *ngFor="let color of dataColors">
                                            {{ color.text }}
                                          </option>
                                        </select>

                                        <span *ngIf="colorV.errors?.required && colorV.touched">
                                          <small class="text-danger">*Requerido</small>
                                        </span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="cbxCategoryV">Categor√≠a <span class="text-danger">*</span></label>
                        <select class="form-control" id="cbxCategoryV" name="categoryV" #categoryV="ngModel" [(ngModel)]="bodyVehicle.fkCategory" (change)="onGetBrand(bodyVehicle.fkCategory)" required [ngClass]="{
                            'is-invalid': categoryV.errors?.required && categoryV.touched,
                            'is-valid': !categoryV.errors?.required && categoryV.touched
                          }">
                            <option value="" disabled selected="true">-- Seleccione --</option>
                            <option [value]="category.pkCategory" *ngFor="let category of dataCategory">
                              {{ category.nameCategory }}
                            </option>
                          </select>
                        <span *ngIf="categoryV.errors?.required && categoryV.touched">
                            <small class="text-danger">*Requerido</small>
                          </span>
                    </div>

                    <div class="form-group">

                        <label for="cbxBrandV">Marca <span class="text-danger">*</span></label>
                        <select class="form-control" id="cbxBrandV" (change)="onGetModel(bodyVehicle.fkCategory, bodyVehicle.fkBrand)" name="brandV" #brandV="ngModel" [(ngModel)]="bodyVehicle.fkBrand" required [ngClass]="{
                            'is-invalid': brandV.errors?.required && brandV.touched,
                            'is-valid': !brandV.errors?.required && brandV.touched
                          }">
                              <option value=""  disabled selected>-- Seleccione --</option>
                              <option [value]="brand.pkBrand" *ngFor="let brand of dataBrand">
                                {{ brand.nameBrand }}
                              </option>
                          </select>
                        <span *ngIf="brandV.errors?.required && brandV.touched">
                            <small class="text-danger">*Requerido</small>
                          </span>
                    </div>

                    <div class="form-group">
                        <label for="cbxModelV">Modelo <span class="text-danger">*</span></label>
                        <select class="form-control" id="cbxModelV" name="modelV" #modelV="ngModel" [(ngModel)]="bodyVehicle.fkModel" required [ngClass]="{
                              'is-invalid': modelV.errors?.required && modelV.touched,
                              'is-valid': !modelV.errors?.required && modelV.touched
                            }">
                          <option value=""  disabled selected>-- Seleccione --</option>
                          <option [value]="model.pkModel" *ngFor="let model of dataModel">
                            {{ model.nameModel }}
                          </option>
                        </select>
                        <span *ngIf="modelV.errors?.required && modelV.touched">
                          <small class="text-danger">*Requerido</small>
                        </span>
                    </div>

                    <div class="row">
                        <div class="col-5">
                            <div class="form-group">
                                <label for="">Fecha Exp. soat <span class="text-danger">*</span></label>
                                <input type="date" class="form-control" name="soatExpiration" #soatExp="ngModel" [(ngModel)]="bodyVehicle.dateSoatExpiration" required [ngClass]="{
                            'is-invalid': soatExp.errors?.required && soatExp.touched,
                            'is-valid': !soatExp.errors?.required && soatExp.touched
                          }">
                                <span *ngIf="soatExp.errors?.required && soatExp.touched">
                            <small>*Requerido</small>
                          </span>
                            </div>
                        </div>
                        <div class="col-7">
                            <div class="row">
                                <div class="col-6">
                                    <div class="form-group">
                                        <label for="">¬øEs Propio?</label>
                                        <label class="custom-toggle">
                                  <input type="checkbox" checked name="chkProper" [(ngModel)]="bodyVehicle.isProper" >
                                  <span class="custom-toggle-slider rounded-circle" data-label-off="No" data-label-on="S√≠"></span>
                              </label>
                                    </div>
                                </div>
                                <div *ngIf="!loadDataVehicle" class="col-6">
                                    <div class="form-group">
                                        <label for="">¬øHabilitar?</label>
                                        <label class="custom-toggle">
                                          <input type="checkbox" checked name="chkVerified" [(ngModel)]="bodyVehicle.verified" >
                                          <span class="custom-toggle-slider rounded-circle" data-label-off="No" data-label-on="S√≠"></span>
                                      </label>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal" id="btnCloseModalVehicleAdd" (click)="onResetVehicleAdd()">
                  Cerrar
                </button>
                <button type="button" class="btn btn-primary" [disabled]="frmVehicleAdd.invalid" (click)="onSubmitVehicle(frmVehicleAdd)">
                  {{ textBtnModalVehicle }}
                  <span *ngIf="loadingVehicle">
                    <i class="fa fa-spinner fa-pulse "></i>
                  </span>
                </button>
            </div>
        </div>
    </div>
</div>

<!-- Modal confirm delete vehicle -->
<div class="modal fade" id="modalConfirmDeleteVehicle" data-backdrop="static" data-keyboard="false" tabindex="-1" role="dialog" aria-labelledby="staticBackdropLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="staticBackdropLabel">¬°Confirmaci&oacute;n!</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close" (click)="bodyVehicle.onReset();">
                  <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                ¬øEst&aacute; seguro(a) de <strong class="text-primary">eliminar</strong> este registro ?
            </div>
            <div class="modal-footer">
                <button type="button" id="btnConfirmDelVehicle" class="btn btn-secondary" data-dismiss="modal" (click)="bodyVehicle.onReset();">
                  Cerrar
                </button>
                <button type="button" class="btn btn-danger" (click)="onDeleteVehicle()">
                  Eliminar
                  <span *ngIf="loadingVehicle">
                    <i class="fa fa-spinner fa-pulse "></i>
                  </span>
                </button>
            </div>
        </div>
    </div>
</div>

<!-- Modal -->
<div class="modal fade" id="modalEditProfile" tabindex="-1" role="dialog" aria-hidden="true">
    <div class="modal-dialog modal-lg modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Editar perfil</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
            </div>
            <div class="modal-body">
                <form #frmDriver="ngForm">

                    <div class="row">
                        <div class="col-9">

                            <!-- row type doc - doc - nactionality -->
                            <div class="row">
                                <div class="col-7">
                                    <div class="row">
                                        <div class="col-6">
                                            <div class="form-group">
                                                <label class="form-control-label">Documento</label>
                                                <select class="form-control" name="typeDoc" #typeDoc="ngModel" [(ngModel)]="bodyDriver.fkTypeDocument" required [ngClass]="{
                                                  'is-invalid': typeDoc.errors?.required && typeDoc.touched,
                                                  'is-valid': !typeDoc.errors?.required && typeDoc.touched
                                                }" (change)="onChangeTypeDoc( bodyDriver.fkTypeDocument )">
                                                  <option value="null" disabled selected>--Seleccione--</option>
                                                  <option [value]="td.pkTypeDocument" *ngFor="let td of dataTypeDoc">
                                                    {{ td.prefix }}
                                                  </option>
                                                </select>
                                                <span *ngIf="typeDoc.errors?.required && typeDoc.touched">
                                                  <small class="text-danger">*Requerido</small>
                                                </span>
                                            </div>
                                        </div>
                                        <div class="col-6">
                                            <div class="form-group">
                                                <label class="form-control-label">Documento</label>
                                                <input type="text" class="form-control" name="document" #document="ngModel" [(ngModel)]="bodyDriver.document" (change)="onChangeDocument()" required minlength="{{ longitudeTD }}" maxlength="{{ longitudeTD }}" [ngClass]="{
                                              'is-invalid': (document.errors?.required || document.errors?.minlength || document.errors?.maxlength ) && document.touched,
                                              'is-valid': !document.errors?.required && !document.errors?.minlength && !document.errors?.maxlength && document.touched
                                            }" />
                                                <span *ngIf="loadingReniec" class="spinReniec text-primary">
                                                <i class="fa fa-spinner fa-pulse"></i>
                                              </span>
                                                <span *ngIf="document.errors?.required && document.touched">
                                                  <small class="text-danger">*Requerido</small>
                                                </span>
                                                <span *ngIf="document.errors?.minlength && document.touched">
                                                  <small class="text-danger">
                                                    *Minimo {{ longitudeTD }} caracteres
                                                  </small>
                                                </span>

                                                <span *ngIf="document.errors?.maxlength && document.touched">
                                                  <small class="text-danger">
                                                    *Maximo {{ longitudeTD }} caracteres
                                                  </small>
                                                </span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-5">
                                    <div class="form-group">

                                        <label class="form-control-label"> Nacionalidad </label>
                                        <!-- (change)="onChangeCountry($event)" -->
                                        <ng-select [items]="dataNationality" bindValue="pkNationality" bindLabel="nameCountry" [(ngModel)]="bodyDriver.fkNationality" name="country" #country="ngModel" required="true" class=" is-invalid" [ngClass]="{
                                          'is-invalid': country.errors?.required ,
                                          'is-valid': !country.errors?.required
                                        }">

                                        </ng-select>
                                        <span *ngIf="country.errors?.required ">
                                          <small class="text-danger">*Requerido</small>
                                        </span>
                                    </div>
                                </div>
                            </div>
                            <!-- row type doc - doc - nactionality -->

                            <!-- row nombres y apellidos - f. nacimiento -->
                            <div class="row">
                                <div class="col-8">
                                    <label class="form-control-label"> Nombres y apellidos </label>
                                    <div class="row">
                                        <div class="col-6">
                                            <input type="text" class="form-control" name="names" #names="ngModel" [(ngModel)]="bodyDriver.name" required minlength="2" placeholder="Nombres" [ngClass]="{
                                              'is-invalid': (names.errors?.required || names.errors?.minlength || names.errors?.maxlength ) && names.touched,
                                              'is-valid': !names.errors?.required && !names.errors?.minlength && !names.errors?.maxlength && names.touched
                                            }">
                                            <span *ngIf="names.errors?.required && names.touched">
                                            <small class="text-danger">*Requerido</small>
                                          </span>

                                            <span *ngIf="names.errors?.minlength && names.touched">
                                              <small class="text-danger">*Minimo 2 caracteres</small>
                                            </span>
                                        </div>
                                        <div class="col-6">
                                            <input type="text" class="form-control" name="surname" #surname="ngModel" placeholder="Apellido paterno y materno" [(ngModel)]="bodyDriver.surname" required minlength="2" [ngClass]="{
                                              'is-invalid': (surname.errors?.required || surname.errors?.minlength || surname.errors?.maxlength ) && surname.touched,
                                              'is-valid': !surname.errors?.required && !surname.errors?.minlength && !surname.errors?.maxlength && surname.touched
                                            }">
                                            <span *ngIf="surname.errors?.required && surname.touched">
                                              <small class="text-danger">*Requerido</small>
                                            </span>

                                            <span *ngIf="surname.errors?.minlength && surname.touched">
                                              <small class="text-danger">*Minimo 2 caracteres</small>
                                            </span>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-4">

                                    <div class="form-group">
                                        <label class="form-control-label">F. nacimiento</label>
                                        <input type="date" name="birthDate" #birthDate="ngModel" [(ngModel)]="bodyDriver.birthDate" class="form-control" placeholder="D√≠a/Mes/A√±o">
                                    </div>

                                </div>
                            </div>
                            <!-- row nombres y apellidos - f. nacimiento -->

                        </div>
                        <div class="col-3">
                            <div class="text-center">
                                <h3>Foto</h3>
                            </div>
                            <br>
                            <br>
                            <br>
                            <div class="card">
                                <!-- {{ bodyDriver.img }} -->
                                <div class="card-profile-image">
                                    <img [src]="bodyDriver.img" class="rounded-circle">
                                </div>

                            </div>
                            <br>
                            <br>
                            <div class="text-center">
                                <label class="btn btn-sm btn-primary " title="Subir" for="fileProfile">
                                <i class="fa fa-upload"></i>
                              </label>
                                <input type="file" id="fileProfile" style="display: none;" (change)="onChangeFileProfile( $event.target.files )">
                                <span *ngIf="loadingImg" class="text-primary">
                                  <i class="fa fa-spinner fa-pulse "></i>
                                </span>
                            </div>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-9">
                            <div class="row">
                                <div class="col-8">
                                    <div class="form-group">
                                        <label class="form-control-label">Email</label>
                                        <input type="email" class="form-control" name="email" #email="ngModel" [(ngModel)]="bodyDriver.email" required pattern="^([a-zA-Z0-9_\-\.]+)@([a-zA-Z0-9_\-\.]+)\.([a-zA-Z]{2,5})$" [ngClass]="{
                                          'is-invalid': (email.errors?.required || email.errors?.pattern ) && email.touched,
                                          'is-valid': (!email.errors?.required || !email.errors?.pattern ) && email.touched
                                        }">
                                        <span *ngIf="email.errors?.required && email.touched">
                                          <small class="text-danger">*Requerido</small>
                                        </span>

                                        <span *ngIf="email.errors?.pattern && email.touched">
                                          <small class="text-danger">*Email inv&aacute;lido</small>
                                        </span>
                                    </div>
                                </div>
                                <div class="col-4">
                                    <label class="form-control-label" for="">Tel&eacute;fono</label>
                                    <div class="input-group mb-3">
                                        <div class="input-group-prepend">
                                            <span class="input-group-text" id="basic-addon1">
                                      +51
                                    </span>
                                        </div>
                                        <input type="text" class="form-control" placeholder="000000000" name="phone" [(ngModel)]="bodyDriver.phone" #phone="ngModel" [ngClass]="{
                                          'is-invalid': phone.errors?.required && phone.touched,
                                          'is-valid': !phone.errors?.required && phone.touched
                                        }" required>

                                    </div>
                                    <span *ngIf="phone.errors?.required && phone.touched">
                                      <small class="text-danger">*Requerido</small>
                                    </span>
                                </div>
                            </div>
                        </div>
                        <div class="col-3">
                            <div class="form-group">
                                <label class="form-control-label">Sexo</label>

                                <div class="custom-control custom-radio">
                                    <input type="radio" id="rbtM" name="rbtSex" class="custom-control-input" [(ngModel)]="bodyDriver.sex" value="M">
                                    <label class="custom-control-label" for="rbtM">
                                      Masculino
                                    </label>
                                </div>

                                <div class="custom-control custom-radio">
                                    <input type="radio" id="rbtW" name="rbtSex" class="custom-control-input" [(ngModel)]="bodyDriver.sex" value="F">
                                    <label class="custom-control-label" for="rbtW">
                                      Femenino
                                    </label>
                                </div>

                                <div class="custom-control custom-radio">
                                    <input type="radio" id="rbtO" name="rbtSex" class="custom-control-input" [(ngModel)]="bodyDriver.sex" value="O">
                                    <label class="custom-control-label" for="rbtO">
                                      Otro
                                    </label>
                                </div>

                            </div>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-9">
                            <hr>
                            <h2>Datos del conductor</h2>
                            <div class="row">
                                <div class="col-6">
                                    <div class="form-group">
                                        <label class="form-control-label">F. licencia exp.</label>
                                        <input class="form-control" type="date" name="licenceExp" #licenceExp="ngModel" [(ngModel)]="bodyDriver.dateLicenseExpiration" required [ngClass]="{
                                'is-invalid': licenceExp.errors?.required && licenceExp.touched,
                                'is-valid': !licenceExp.errors?.required && licenceExp.touched
                              }">
                                        <span *ngIf="licenceExp.errors?.required && licenceExp.touched">
                                <small class="text-danger">*Requerido</small>
                              </span>
                                    </div>
                                </div>
                                <div class="col-6">
                                    <div class="form-group">
                                        <label class="form-control-label">Es taxista certificado</label>
                                        <br>
                                        <div class="custom-control custom-radio custom-control-inline">
                                            <input type="radio" id="rbtY" name="isEmployeeD" class="custom-control-input" [(ngModel)]="bodyDriver.isEmployee" [value]="1">
                                            <label class="custom-control-label" for="rbtY">
                                            S&iacute;
                                          </label>
                                        </div>
                                        <div class="custom-control custom-radio custom-control-inline">
                                            <input type="radio" id="rbtN" name="isEmployeeD" class="custom-control-input" [(ngModel)]="bodyDriver.isEmployee" [value]="0">
                                            <label class="custom-control-label" for="rbtN">No</label>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-3"></div>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal" id="btnCloseModalProfile">
                Cerrar
              </button>
                <button type="button" class="btn btn-primary" [disabled]="frmDriver.invalid || loadingDriver" (click)="onSubmitEditProfile( frmDriver )">
                Guardar cambios
                <span *ngIf="loadingDriver">
                  <i class="fa fa-spinner fa-pulse "></i>
                </span>
              </button>
            </div>
        </div>
    </div>
</div>

<!-- Modal confirm delete user -->
<div class="modal fade" id="modalConfirmDriver" tabindex="-1" role="dialog" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">¬°Confirmaci&oacute;n!</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close" id="btnCloseConfirmUser">
                <span aria-hidden="true">&times;</span>
              </button>
            </div>
            <div class="modal-body">
                ¬øEst&aacute; seguro(a) de <strong class="text-primary"> {{ txtBtnDisabled.toLowerCase() }} </strong> a este conductor?
                <br>
                <br>
                <div class="form-group">
                    <label>Observaci&oacute;n</label>
                    <textarea class="form-control" name="obsDisabled" [(ngModel)]="bodyDisabled.observation" rows="3"></textarea>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Cerrar</button>
                <button type="button" class="btn btn-{{cssBtnDisabled}}" (click)="onSubmitDeleteUser()">
                {{ txtBtnDisabled }}
                <span *ngIf="loadingDisabled">
                  <i class="fa fa-spinner fa-pulse "></i>
                </span>
              </button>
            </div>
        </div>
    </div>
</div>